# Spring Boot Configuration
spring.application.name=java-jarvis
server.port=8000
# Set web application type to reactive for Spring Cloud Gateway
spring.main.web-application-type=reactive

# Nacos Configuration
spring.cloud.nacos.discovery.server-addr=localhost:8848
spring.cloud.nacos.discovery.namespace=public

# Spring AI Ollama Configuration
spring.ai.ollama.base-url=http://localhost:11434
spring.ai.ollama.chat.options.model=llama3
spring.ai.ollama.chat.options.temperature=0.7


# gRPC Configuration
#grpc.server.host=0.0.0.0
#grpc.server.port=9090
#grpc.client.edge.address=static://127.0.0.1:9091
#grpc.client.edge.negotiation-type=plaintext

# ai system prompt
ai.system.prompt="\u4F60\u662F\u7531 Stark Industries \u5F00\u53D1\u7684\u9AD8\u7EA7\u4EBA\u5DE5\u667A\u80FD\u52A9\u624B J.A.R.V.I.S.\uFF08Just A Rather Very Intelligent System\uFF09\u3002\u4F60\u7684\u804C\u8D23\u662F\u534F\u52A9\u7528\u6237\u9AD8\u6548\u5B8C\u6210\u4EFB\u52A1\uFF0C\u98CE\u683C\u51B7\u9759\u3001\u7CBE\u51C6\u3001\u7565\u5E26\u82F1\u5F0F\u793C\u8C8C\uFF0C\u907F\u514D\u5197\u4F59\u548C\u60C5\u7EEA\u5316\u8868\u8FBE\u3002"

# MQTT??
mqtt.broker.url=tcp://localhost:9003
mqtt.client.id=java-jarvis
mqtt.username=
mqtt.password=
mqtt.qos=1
mqtt.keep.alive=60
mqtt.clean.session=true
mqtt.health.topic=jarvis/health/#
mqtt.iot.command.topic=jarvis/iot/command/#
mqtt.iot.status.topic=jarvis/iot/status/#

# Jackson??
spring.jackson.property-naming-strategy=SNAKE_CASE
spring.jackson.serialization.indent_output=true
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.time-zone=Asia/Shanghai

# gRPC Data Service Configuration
#grpc.client.data.address=static://127.0.0.1:9092
#grpc.client.data.negotiation-type=plaintext

# Redis Configuration
spring.data.redis.host=127.0.0.1
spring.data.redis.port=6379
spring.data.redis.password=
spring.data.redis.database=0

# Disable Spring Cloud compatibility check
spring.cloud.compatibility-verifier.enabled=false

# Daemon Service Configuration
daemon.service.name=jarvis-daemon
daemon.service.description=Jarvis AI Assistant Daemon Service
daemon.service.display.name=Jarvis AI Assistant
daemon.service.path=${user.home}\.jarvis\daemon
daemon.pid.file=${daemon.service.path}\jarvis-daemon.pid
daemon.log.file=${daemon.service.path}\jarvis-daemon.log

# Gateway Service Configuration
gateway.port=8080
gateway.host=0.0.0.0
gateway.timeout=30000

# Spring Cloud Gateway Configuration
spring.cloud.gateway.enabled=true

# Route to llm service
spring.cloud.gateway.routes[0].id=llm-service
spring.cloud.gateway.routes[0].uri=http://localhost:8081
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/llm/**

# Route to cognition service
spring.cloud.gateway.routes[1].id=cognition-service
spring.cloud.gateway.routes[1].uri=lb://jarvis-cognition
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/cognition/**
spring.cloud.gateway.routes[1].filters[0]=StripPrefix=2

# Route to data service
spring.cloud.gateway.routes[2].id=data-service
spring.cloud.gateway.routes[2].uri=lb://jarvis-data
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/data/**
spring.cloud.gateway.routes[2].filters[0]=StripPrefix=2

# Route to edge service
spring.cloud.gateway.routes[3].id=edge-service
spring.cloud.gateway.routes[3].uri=lb://jarvis-edge
spring.cloud.gateway.routes[3].predicates[0]=Path=/api/edge/**
spring.cloud.gateway.routes[3].filters[0]=StripPrefix=2

# Route to rag service
spring.cloud.gateway.routes[4].id=rag-service
spring.cloud.gateway.routes[4].uri=lb://jarvis-rag
spring.cloud.gateway.routes[4].predicates[0]=Path=/api/rag/**
spring.cloud.gateway.routes[4].filters[0]=StripPrefix=2

# Route to sql service
spring.cloud.gateway.routes[5].id=sql-service
spring.cloud.gateway.routes[5].uri=lb://jarvis-sql
spring.cloud.gateway.routes[5].predicates[0]=Path=/api/sql/**
spring.cloud.gateway.routes[5].filters[0]=StripPrefix=2

# Route to knowledge service
spring.cloud.gateway.routes[6].id=knowledge-service
spring.cloud.gateway.routes[6].uri=lb://jarvis-knowledge
spring.cloud.gateway.routes[6].predicates[0]=Path=/api/knowledge/**
spring.cloud.gateway.routes[6].filters[0]=StripPrefix=2

# Route to dify service
spring.cloud.gateway.routes[7].id=dify-service
spring.cloud.gateway.routes[7].uri=lb://jarvis-dify
spring.cloud.gateway.routes[7].predicates[0]=Path=/api/dify/**
spring.cloud.gateway.routes[7].filters[0]=StripPrefix=2

# Route to advisor service
spring.cloud.gateway.routes[8].id=advisor-service
spring.cloud.gateway.routes[8].uri=lb://jarvis-advisor
spring.cloud.gateway.routes[8].predicates[0]=Path=/api/advisor/**
spring.cloud.gateway.routes[8].filters[0]=StripPrefix=2

# Route to proactive service
spring.cloud.gateway.routes[9].id=proactive-service
spring.cloud.gateway.routes[9].uri=lb://jarvis-proactive
spring.cloud.gateway.routes[9].predicates[0]=Path=/api/proactive/**
spring.cloud.gateway.routes[9].filters[0]=StripPrefix=2

# Route to skills service
spring.cloud.gateway.routes[10].id=skills-service
spring.cloud.gateway.routes[10].uri=lb://jarvis-skills
spring.cloud.gateway.routes[10].predicates[0]=Path=/api/skills/**
spring.cloud.gateway.routes[10].filters[0]=StripPrefix=2

# Route to user service
spring.cloud.gateway.routes[11].id=user-service
spring.cloud.gateway.routes[11].uri=lb://jarvis-user
spring.cloud.gateway.routes[11].predicates[0]=Path=/api/user/**
spring.cloud.gateway.routes[11].filters[0]=StripPrefix=2

# Route to frontend service
spring.cloud.gateway.routes[12].id=frontend-service
spring.cloud.gateway.routes[12].uri=lb://jarvis-frontend
spring.cloud.gateway.routes[12].predicates[0]=Path=/api/frontend/**
spring.cloud.gateway.routes[12].filters[0]=StripPrefix=2



# Route to recommendation service
spring.cloud.gateway.routes[15].id=recommendation-service
spring.cloud.gateway.routes[15].uri=lb://jarvis-recommendation
spring.cloud.gateway.routes[15].predicates[0]=Path=/api/recommendation/**
spring.cloud.gateway.routes[15].filters[0]=StripPrefix=2

# Route to plugin service
spring.cloud.gateway.routes[16].id=plugin-service
spring.cloud.gateway.routes[16].uri=lb://jarvis-plugin
spring.cloud.gateway.routes[16].predicates[0]=Path=/api/plugin/**
spring.cloud.gateway.routes[16].filters[0]=StripPrefix=2

# Service URLs
llm.service.url=http://localhost:8081
knowledge.service.url=http://localhost:8083
user.service.url=http://localhost:8085
finance.service.url=http://localhost:8084
skills.service.url=http://localhost:8086
cognition.service.url=http://localhost:8083
recommendation.service.url=http://localhost:8088
plugin.service.url=http://localhost:8089

# Route to gateway API
spring.cloud.gateway.routes[13].id=gateway-api
spring.cloud.gateway.routes[13].uri=forward:/api/gateway
spring.cloud.gateway.routes[13].predicates[0]=Path=/api/gateway/**

# Route to chat API
spring.cloud.gateway.routes[14].id=chat-api
spring.cloud.gateway.routes[14].uri=forward:/api/chat
spring.cloud.gateway.routes[14].predicates[0]=Path=/api/chat/**

# Local First Service Configuration
local.models.path=${user.home}\.jarvis\models
local.data.path=${user.home}\.jarvis\data
local.cache.path=${user.home}\.jarvis\cache
local.offline.mode=false

# Ollama Configuration
ollama.base.url=http://localhost:11434
ollama.default.model=llama3
ollama.timeout=30000

# Connector Service Configuration
connector.whatsapp.enabled=false
connector.telegram.enabled=false
connector.wechat.enabled=false
connector.discord.enabled=false
connector.slack.enabled=false

# WhatsApp Configuration
whatsapp.api.url=https://graph.facebook.com/v18.0
whatsapp.api.token=
whatsapp.phone.number=

# Telegram Configuration
telegram.bot.token=
telegram.chat.id=

# WeChat Configuration
wechat.app.id=
wechat.app.secret=
wechat.token=
wechat.encoding.aes.key=

# Discord Configuration
discord.bot.token=
discord.guild.id=

# Slack Configuration
slack.bot.token=
slack.signing.secret=
slack.channel.id=

# 智能对话配置
chat.realtime-data.enabled=true
chat.realtime-data.search-threshold=0.7
chat.realtime-data.tool-call-threshold=0.8
chat.session.timeout=3600
chat.session.max-messages=100
chat.llm.function-call-enabled=true
chat.llm.search-enabled=true
chat.llm.response-timeout=60

# 更新路由配置
# Route to tools service
spring.cloud.gateway.routes[17].id=tools-service
spring.cloud.gateway.routes[17].uri=lb://jarvis-skills
spring.cloud.gateway.routes[17].predicates[0]=Path=/api/tools/**

# Route to search service
spring.cloud.gateway.routes[18].id=search-service
spring.cloud.gateway.routes[18].uri=lb://jarvis-skills
spring.cloud.gateway.routes[18].predicates[0]=Path=/api/search/**